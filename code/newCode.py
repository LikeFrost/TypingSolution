import math

import numpy as np
from pyecharts.charts import Bar, HeatMap
from pyecharts.commons.utils import JsCode
from pyecharts.globals import ThemeType
from pyecharts import options as opts
import huffMan

#新编码的使用频率
def getCodenum():
    huffList =[['dao', 7, '0000000', 103, '0 0 ', 'aa'], ['kan', 9, '000000100', 26, '4 0 0 ', 'aae'], ['lian', 9, '000000101', 26, '5 0 0 ', 'aaf'], ['kong', 10, '0000001100', 13, '12 0 0 ', 'aam'], ['ma', 10, '0000001101', 13, '13 0 0 ', 'aan'], ['man', 10, '0000001110', 13, '14 0 0 ', 'aao'], ['ya', 10, '0000001111', 13, '15 0 0 ', 'aap'], ['di', 7, '0000010', 104, '2 0 ', 'ac'], ['ju', 8, '00000110', 52, '6 0 ', 'ag'], ['chang', 8, '00000111', 53, '7 0 ', 'ah'], ['neng', 8, '00001000', 53, '8 0 ', 'ai'], ['ba', 8, '00001001', 53, '9 0 ', 'aj'], ['guan', 7, '0000101', 106, '5 0 ', 'af'], ['ge', 6, '000011', 213, '3 0 ', 'ad'], ['hui', 6, '000100', 213, '4 0 ', 'ae'], ['er', 7, '0001010', 106, '10 0 ', 'ak'], ['gou', 10, '0001011000', 13, '8 5 0 ', 'afi'], ['lei', 11, '00010110010', 7, '2 11 0 ', 'alc'], ['cha', 11, '00010110011', 7, '3 11 0 ', 'ald'], ['ling', 9, '000101101', 27, '13 2 0 ', 'acn'], ['zuo', 8, '00010111', 54, '7 1 ', 'bh'], ['men', 6, '000110', 214, '6 0 ', 'ag'], ['dui', 7, '0001110', 109, '14 0 ', 'ao'], ['fei', 9, '000111100', 27, '12 3 0 ', 'adm'], ['zhou', 10, '0001111010', 14, '10 7 0 ', 'ahk'], ['hao', 10, '0001111011', 14, '11 7 0 ', 'ahl'], ['ou', 11, '00011111000', 7, '8 15 0 ', 'api'], ['mou', 11, '00011111001', 7, '9 15 0 ', 'apj'], ['mo', 11, '00011111010', 7, '10 15 0 ', 'apk'], ['wa', 11, '00011111011', 7, '11 15 0 ', 'apl'], ['tu', 9, '000111111', 28, '15 3 0 ', 'adp'], ['jie', 5, '00100', 438, '4 0 ', 'ae'], ['zhong', 6, '001010', 221, '10 0 ', 'ak'], ['cheng', 7, '0010110', 112, '6 1 ', 'bg'], ['su', 10, '0010111000', 14, '8 11 0 ', 'ali'], ['zhuan', 10, '0010111001', 14, '9 11 0 ', 'alj'], ['san', 11, '00101110100', 7, '4 7 1 ', 'bhe'], ['tao', 11, '00101110101', 7, '5 7 1 ', 'bhf'], ['ri', 10, '0010111011', 14, '11 11 0 ', 'all'], ['zao', 9, '001011110', 28, '14 5 0 ', 'afo'], ['zong', 9, '001011111', 29, '15 5 0 ', 'afp'], ['xiao', 7, '0011000', 113, '8 1 ', 'bi'], ['mie', 8, '00110010', 57, '2 3 ', 'dc'], ['jiao', 8, '00110011', 57, '3 3 ', 'dd'], ['he', 6, '001101', 228, '13 0 ', 'an'], ['zai', 6, '001110', 229, '14 0 ', 'ao'], ['ren', 6, '001111', 231, '15 0 ', 'ap'], ['you', 6, '010000', 232, '0 1 ', 'ba'], ['liang', 9, '010001000', 29, '8 8 0 ', 'aii'], ['ding', 10, '0100010010', 15, '2 1 1 ', 'bbc'], ['ceng', 10, '0100010011', 15, '3 1 1 ', 'bbd'], ['ben', 8, '01000101', 59, '5 4 ', 'ef'], ['jiu', 7, '0100011', 118, '3 2 ', 'cd'], ['ta', 6, '010010', 239, '2 1 ', 'bc'], ['chi', 10, '0100110000', 15, '0 3 1 ', 'bda'], ['jiang', 10, '0100110001', 15, '1 3 1 ', 'bdb'], ['chong', 10, '0100110010', 15, '2 3 1 ', 'bdc'], ['ze', 10, '0100110011', 15, '3 3 1 ', 'bdd'], ['dan', 8, '01001101', 60, '13 4 ', 'en'], ['gai', 9, '010011100', 30, '12 9 0 ', 'ajm'], ['bao', 9, '010011101', 30, '13 9 0 ', 'ajn'], ['jun', 10, '0100111100', 15, '12 3 1 ', 'bdm'], ['bie', 10, '0100111101', 15, '13 3 1 ', 'bdn'], ['pei', 11, '01001111100', 7, '12 7 2 ', 'chm'], ['zhun', 12, '010011111010', 4, '10 15 4 ', 'epk'], ['tuo', 12, '010011111011', 4, '11 15 4 ', 'epl'], ['lu', 10, '0100111111', 15, '15 3 1 ', 'bdp'], ['yu', 7, '0101000', 120, '8 2 ', 'ci'], ['xing', 7, '0101001', 121, '9 2 ', 'cj'], ['dong', 7, '0101010', 121, '10 2 ', 'ck'], ['xian', 7, '0101011', 121, '11 2 ', 'cl'], ['chan', 5, '01011', 490, '11 0 ', 'al'], ['geng', 10, '0110000000', 15, '0 8 1 ', 'bia'], ['huang', 11, '01100000010', 8, '2 0 3 ', 'dac'], ['kou', 11, '01100000011', 8, '3 0 3 ', 'dad'], ['ran', 9, '011000001', 31, '1 12 0 ', 'amb'], ['cai', 8, '01100001', 62, '1 6 ', 'gb'], ['lai', 7, '0110001', 125, '1 3 ', 'db'], ['yan', 9, '011001000', 31, '8 12 0 ', 'ami'], ['tai', 10, '0110010010', 16, '2 9 1 ', 'bjc'], ['shao', 10, '0110010011', 16, '3 9 1 ', 'bjd'], ['fang', 8, '01100101', 63, '5 6 ', 'gf'], ['yin', 8, '01100110', 64, '6 6 ', 'gg'], ['min', 8, '01100111', 64, '7 6 ', 'gh'], ['te', 10, '0110100000', 16, '0 10 1 ', 'bka'], ['ting', 10, '0110100001', 16, '1 10 1 ', 'bkb'], ['fo', 12, '011010001000', 4, '8 8 6 ', 'gii'], ['kao', 12, '011010001001', 4, '9 8 6 ', 'gij'], ['xiong', 12, '011010001010', 4, '10 8 6 ', 'gik'], ['zou', 12, '011010001011', 4, '11 8 6 ', 'gil'], ['lan', 12, '011010001100', 4, '12 8 6 ', 'gim'], ['rang', 12, '011010001101', 4, '13 8 6 ', 'gin'], ['bang', 12, '011010001110', 4, '14 8 6 ', 'gio'], ['dun', 12, '011010001111', 4, '15 8 6 ', 'gip'], ['bei', 8, '01101001', 64, '9 6 ', 'gj'], ['liao', 11, '01101010000', 8, '0 5 3 ', 'dfa'], ['an', 11, '01101010001', 8, '1 5 3 ', 'dfb'], ['qiao', 13, '0110101001000', 2, '8 4 13 0 ', 'anei'], ['suan', 13, '0110101001001', 2, '9 4 13 0 ', 'anej'], ['cang', 13, '0110101001010', 2, '10 4 13 0 ', 'anek'], ['rui', 13, '0110101001011', 2, '11 4 13 0 ', 'anel'], ['liu', 11, '01101010011', 8, '3 5 3 ', 'dfd'], ['feng', 9, '011010101', 32, '5 13 0 ', 'anf'], ['weng', 14, '01101011000000', 1, '0 12 10 1 ', 'bkma'], ['zhuo', 14, '01101011000001', 1, '1 12 10 1 ', 'bkmb'], ['tun', 14, '01101011000010', 1, '2 12 10 1 ', 'bkmc'], ['chuo', 14, '01101011000011', 1, '3 12 10 1 ', 'bkmd'], ['fou', 14, '01101011000100', 1, '4 12 10 1 ', 'bkme'], ['nuo', 14, '01101011000101', 1, '5 12 10 1 ', 'bkmf'], ['nie', 14, '01101011000110', 1, '6 12 10 1 ', 'bkmg'], ['qia', 14, '01101011000111', 1, '7 12 10 1 ', 'bkmh'], ['miao', 14, '01101011001000', 1, '8 12 10 1 ', 'bkmi'], ['ao', 14, '01101011001001', 1, '9 12 10 1 ', 'bkmj'], ['rao', 14, '01101011001010', 1, '10 12 10 1 ', 'bkmk'], ['a', 14, '01101011001011', 1, '11 12 10 1 ', 'bkml'], ['shuang', 14, '01101011001100', 1, '12 12 10 1 ', 'bkmm'], ['beng', 14, '01101011001101', 1, '13 12 10 1 ', 'bkmn'], ['ning', 14, '01101011001110', 1, '14 12 10 1 ', 'bkmo'], ['zhua', 14, '01101011001111', 1, '15 12 10 1 ', 'bkmp'], ['gang', 12, '011010110100', 4, '4 11 6 ', 'gle'], ['leng', 12, '011010110101', 4, '5 11 6 ', 'glf'], ['nang', 14, '01101011011000', 1, '8 13 10 1 ', 'bkni'], ['kui', 14, '01101011011001', 1, '9 13 10 1 ', 'bknj'], ['chui', 14, '01101011011010', 1, '10 13 10 1 ', 'bknk'], ['zhai', 14, '01101011011011', 1, '11 13 10 1 ', 'bknl'], ['pao', 12, '011010110111', 4, '7 11 6 ', 'glh'], ['ken', 13, '0110101110000', 2, '0 7 13 0 ', 'anha'], ['re', 13, '0110101110001', 2, '1 7 13 0 ', 'anhb'], ['sha', 13, '0110101110010', 2, '2 7 13 0 ', 'anhc'], ['qin', 13, '0110101110011', 2, '3 7 13 0 ', 'anhd'], ['sai', 13, '0110101110100', 2, '4 7 13 0 ', 'anhe'], ['guai', 13, '0110101110101', 2, '5 7 13 0 ', 'anhf'], ['kua', 13, '0110101110110', 2, '6 7 13 0 ', 'anhg'], ['luan', 13, '0110101110111', 2, '7 7 13 0 ', 'anhh'], ['han', 13, '0110101111000', 2, '8 7 13 0 ', 'anhi'], ['peng', 13, '0110101111001', 2, '9 7 13 0 ', 'anhj'], ['ruo', 14, '01101011110100', 1, '4 15 10 1 ', 'bkpe'], ['hong', 14, '01101011110101', 1, '5 15 10 1 ', 'bkpf'], ['lve', 13, '0110101111011', 2, '11 7 13 0 ', 'anhl'], ['lou', 13, '0110101111100', 2, '12 7 13 0 ', 'anhm'], ['sa', 13, '0110101111101', 2, '13 7 13 0 ', 'anhn'], ['pang', 13, '0110101111110', 2, '14 7 13 0 ', 'anho'], ['ha', 13, '0110101111111', 2, '15 7 13 0 ', 'anhp'], ['ban', 9, '011011000', 33, '8 13 0 ', 'ani'], ['duo', 9, '011011001', 33, '9 13 0 ', 'anj'], ['nu', 10, '0110110100', 16, '4 11 1 ', 'ble'], ['nv', 11, '01101101010', 8, '10 6 3 ', 'dgk'], ['gao', 11, '01101101011', 9, '11 6 3 ', 'dgl'], ['bing', 9, '011011011', 33, '11 13 0 ', 'anl'], ['da', 8, '01101110', 67, '14 6 ', 'go'], ['shou', 8, '01101111', 67, '15 6 ', 'gp'], ['zhe', 6, '011100', 267, '12 1 ', 'bm'], ['li', 6, '011101', 267, '13 1 ', 'bn'], ['yi', 5, '01111', 539, '15 0 ', 'ap'], ['zhu', 7, '1000000', 134, '0 4 ', 'ea'], ['qi', 7, '1000001', 135, '1 4 ', 'eb'], ['fa', 7, '1000010', 135, '2 4 ', 'ec'], ['wang', 10, '1000011000', 17, '8 1 2 ', 'cbi'], ['zhang', 10, '1000011001', 17, '9 1 2 ', 'cbj'], ['pi', 10, '1000011010', 17, '10 1 2 ', 'cbk'], ['diao', 10, '1000011011', 17, '11 1 2 ', 'cbl'], ['xie', 8, '10000111', 68, '7 8 ', 'ih'], ['gong', 6, '100010', 271, '2 2 ', 'cc'], ['bu', 6, '100011', 272, '3 2 ', 'cd'], ['ye', 7, '1001000', 136, '8 4 ', 'ei'], ['shang', 8, '10010010', 68, '2 9 ', 'jc'], ['pai', 10, '1001001100', 17, '12 4 2 ', 'cem'], ['lv', 10, '1001001101', 17, '13 4 2 ', 'cen'], ['cong', 9, '100100111', 35, '7 2 1 ', 'bch'], ['gu', 9, '100101000', 35, '8 2 1 ', 'bci'], ['zhuang', 10, '1001010010', 18, '2 5 2 ', 'cfc'], ['zeng', 10, '1001010011', 18, '3 5 2 ', 'cfd'], ['fan', 8, '10010101', 71, '5 9 ', 'jf'], ['jian', 7, '1001011', 142, '11 4 ', 'el'], ['qiu', 10, '1001100000', 18, '0 6 2 ', 'cga'], ['que', 10, '1001100001', 18, '1 6 2 ', 'cgb'], ['cui', 11, '10011000100', 9, '4 12 4 ', 'eme'], ['rong', 11, '10011000101', 9, '5 12 4 ', 'emf'], ['bai', 11, '10011000110', 9, '6 12 4 ', 'emg'], ['kuang', 11, '10011000111', 9, '7 12 4 ', 'emh'], ['hen', 11, '10011001000', 9, '8 12 4 ', 'emi'], ['mi', 11, '10011001001', 9, '9 12 4 ', 'emj'], ['chuan', 11, '10011001010', 9, '10 12 4 ', 'emk'], ['gei', 11, '10011001011', 9, '11 12 4 ', 'eml'], ['yuan', 9, '100110011', 37, '3 3 1 ', 'bdd'], ['ming', 8, '10011010', 73, '10 9 ', 'jk'], ['chu', 8, '10011011', 73, '11 9 ', 'jl'], ['duan', 9, '100111000', 37, '8 3 1 ', 'bdi'], ['ying', 9, '100111001', 37, '9 3 1 ', 'bdj'], ['hu', 9, '100111010', 37, '10 3 1 ', 'bdk'], ['xia', 9, '100111011', 38, '11 3 1 ', 'bdl'], ['wu', 7, '1001111', 151, '15 4 ', 'ep'], ['ji', 5, '10100', 606, '4 1 ', 'be'], ['wei', 7, '1010100', 152, '4 5 ', 'fe'], ['deng', 9, '101010100', 38, '4 5 1 ', 'bfe'], ['hua', 9, '101010101', 38, '5 5 1 ', 'bff'], ['wo', 9, '101010110', 38, '6 5 1 ', 'bfg'], ['mu', 10, '1010101110', 19, '14 10 2 ', 'cko'], ['wai', 11, '10101011110', 10, '14 5 5 ', 'ffo'], ['qing', 11, '10101011111', 10, '15 5 5 ', 'ffp'], ['zu', 8, '10101100', 77, '12 10 ', 'km'], ['yong', 8, '10101101', 77, '13 10 ', 'kn'], ['yun', 9, '101011100', 39, '12 5 1 ', 'bfm'], ['zui', 9, '101011101', 39, '13 5 1 ', 'bfn'], ['ni', 9, '101011110', 39, '14 5 1 ', 'bfo'], ['cuo', 12, '101011111000', 5, '8 15 10 ', 'kpi'], ['seng', 12, '101011111001', 5, '9 15 10 ', 'kpj'], ['zun', 12, '101011111010', 5, '10 15 10 ', 'kpk'], ['guang', 12, '101011111011', 5, '11 15 10 ', 'kpl'], ['lun', 10, '1010111111', 20, '15 11 2 ', 'clp'], ['qu', 8, '10110000', 79, '0 11 ', 'la'], ['zhan', 8, '10110001', 79, '1 11 ', 'lb'], ['xu', 9, '101100100', 40, '4 6 1 ', 'bge'], ['hou', 9, '101100101', 40, '5 6 1 ', 'bgf'], ['kuai', 12, '101100110000', 5, '0 3 11 ', 'lda'], ['xun', 12, '101100110001', 5, '1 3 11 ', 'ldb'], ['pie', 13, '1011001100100', 2, '4 6 6 1 ', 'bgge'], ['ku', 13, '1011001100101', 3, '5 6 6 1 ', 'bggf'], ['hai', 12, '101100110011', 5, '3 3 11 ', 'ldd'], ['che', 12, '101100110100', 5, '4 3 11 ', 'lde'], ['pian', 12, '101100110101', 5, '5 3 11 ', 'ldf'], ['hang', 12, '101100110110', 5, '6 3 11 ', 'ldg'], ['la', 12, '101100110111', 5, '7 3 11 ', 'ldh'], ['pan', 11, '10110011100', 10, '12 9 5 ', 'fjm'], ['shui', 11, '10110011101', 10, '13 9 5 ', 'fjn'], ['kuo', 11, '10110011110', 10, '14 9 5 ', 'fjo'], ['xuan', 11, '10110011111', 10, '15 9 5 ', 'fjp'], ['sheng', 7, '1011010', 161, '10 5 ', 'fk'], ['huo', 8, '10110110', 81, '6 11 ', 'lg'], ['nian', 10, '1011011100', 20, '12 13 2 ', 'cnm'], ['tian', 11, '10110111010', 10, '10 11 5 ', 'flk'], ['qun', 12, '101101110110', 5, '6 7 11 ', 'lhg'], ['tou', 13, '1011011101110', 3, '14 14 6 1 ', 'bgoo'], ['hun', 13, '1011011101111', 3, '15 14 6 1 ', 'bgop'], ['bi', 9, '101101111', 41, '15 6 1 ', 'bgp'], ['she', 7, '1011100', 164, '12 5 ', 'fm'], ['tong', 7, '1011101', 166, '13 5 ', 'fn'], ['dang', 8, '10111100', 83, '12 11 ', 'lm'], ['yue', 9, '101111010', 42, '10 7 1 ', 'bhk'], ['shu', 9, '101111011', 42, '11 7 1 ', 'bhl'], ['po', 10, '1011111000', 21, '8 15 2 ', 'cpi'], ['biao', 10, '1011111001', 21, '9 15 2 ', 'cpj'], ['tiao', 9, '101111101', 42, '13 7 1 ', 'bhn'], ['nei', 10, '1011111100', 21, '12 15 2 ', 'cpm'], ['luo', 11, '10111111010', 11, '10 15 5 ', 'fpk'], ['mao', 11, '10111111011', 11, '11 15 5 ', 'fpl'], ['na', 9, '101111111', 43, '15 7 1 ', 'bhp'], ['de', 4, '1100', 1392, '12 ', 'm'], ['suo', 8, '11010000', 87, '0 13 ', 'na'], ['jin', 8, '11010001', 87, '1 13 ', 'nb'], ['cun', 9, '110100100', 43, '4 10 1 ', 'bke'], ['jue', 10, '1101001010', 22, '10 4 3 ', 'dek'], ['wan', 10, '1101001011', 22, '11 4 3 ', 'del'], ['qie', 8, '11010011', 87, '3 13 ', 'nd'], ['tui', 11, '11010100000', 11, '0 10 6 ', 'gka'], ['chun', 11, '11010100001', 11, '1 10 6 ', 'gkb'], ['zhen', 10, '1101010001', 22, '1 5 3 ', 'dfb'], ['si', 9, '110101001', 44, '9 10 1 ', 'bkj'], ['jing', 8, '11010101', 88, '5 13 ', 'nf'], ['le', 7, '1101011', 176, '11 6 ', 'gl'], ['zhi', 6, '110110', 352, '6 3 ', 'dg'], ['zi', 6, '110111', 357, '7 3 ', 'dh'], ['shi', 5, '11100', 731, '12 1 ', 'bm'], ['jia', 8, '11101000', 88, '8 14 ', 'oi'], ['ru', 10, '1110100100', 22, '4 10 3 ', 'dke'], ['gan', 11, '11101001010', 11, '10 4 7 ', 'hek'], ['e', 12, '111010010110', 6, '6 9 14 ', 'ojg'], ['gen', 12, '111010010111', 6, '7 9 14 ', 'ojh'], ['dou', 9, '111010011', 45, '3 13 1 ', 'bnd'], ['dai', 8, '11101010', 90, '10 14 ', 'ok'], ['xue', 9, '111010110', 45, '6 13 1 ', 'bng'], ['mai', 10, '1110101110', 23, '14 10 3 ', 'dko'], ['gui', 10, '1110101111', 23, '15 10 3 ', 'dkp'], ['lao', 9, '111011000', 46, '8 13 1 ', 'bni'], ['zhao', 9, '111011001', 47, '9 13 1 ', 'bnj'], ['yao', 8, '11101101', 93, '13 14 ', 'on'], ['quan', 9, '111011100', 47, '12 13 1 ', 'bnm'], ['huan', 9, '111011101', 47, '13 13 1 ', 'bnn'], ['xi', 8, '11101111', 95, '15 14 ', 'op'], ['mei', 9, '111100000', 48, '0 14 1 ', 'boa'], ['ci', 9, '111100001', 48, '1 14 1 ', 'bob'], ['lie', 11, '11110001000', 12, '8 8 7 ', 'hii'], ['chuang', 11, '11110001001', 12, '9 8 7 ', 'hij'], ['tie', 13, '1111000101000', 3, '8 2 14 1 ', 'boci'], ['tang', 13, '1111000101001', 3, '9 2 14 1 ', 'bocj'], ['juan', 13, '1111000101010', 3, '10 2 14 1 ', 'bock'], ['mang', 13, '1111000101011', 3, '11 2 14 1 ', 'bocl'], ['kun', 13, '1111000101100', 3, '12 2 14 1 ', 'bocm'], ['zen', 13, '1111000101101', 3, '13 2 14 1 ', 'bocn'], ['zan', 13, '1111000101110', 3, '14 2 14 1 ', 'boco'], ['long', 13, '1111000101111', 3, '15 2 14 1 ', 'bocp'], ['qiang', 11, '11110001100', 12, '12 8 7 ', 'him'], ['pu', 11, '11110001101', 12, '13 8 7 ', 'hin'], ['ping', 11, '11110001110', 12, '14 8 7 ', 'hio'], ['tan', 11, '11110001111', 12, '15 8 7 ', 'hip'], ['ai', 12, '111100100000', 6, '0 2 15 ', 'pca'], ['meng', 12, '111100100001', 6, '1 2 15 ', 'pcb'], ['chao', 12, '111100100010', 6, '2 2 15 ', 'pcc'], ['heng', 12, '111100100011', 6, '3 2 15 ', 'pcd'], ['sui', 10, '1111001001', 24, '9 12 3 ', 'dmj'], ['cao', 13, '1111001010000', 3, '0 5 14 1 ', 'bofa'], ['can', 13, '1111001010001', 3, '1 5 14 1 ', 'bofb'], ['kang', 12, '111100101001', 6, '9 2 15 ', 'pcj'], ['tuan', 13, '1111001010100', 3, '4 5 14 1 ', 'bofe'], ['chen', 13, '1111001010101', 3, '5 5 14 1 ', 'boff'], ['chou', 13, '1111001010110', 3, '6 5 14 1 ', 'bofg'], ['xiu', 13, '1111001010111', 3, '7 5 14 1 ', 'bofh'], ['zha', 12, '111100101100', 6, '12 2 15 ', 'pcm'], ['huai', 12, '111100101101', 6, '13 2 15 ', 'pcn'], ['nan', 12, '111100101110', 6, '14 2 15 ', 'pco'], ['cu', 12, '111100101111', 6, '15 2 15 ', 'pcp'], ['xiang', 8, '11110011', 97, '3 15 ', 'pd'], ['zheng', 7, '1111010', 193, '10 7 ', 'hk'], ['du', 8, '11110110', 97, '6 15 ', 'pg'], ['shuo', 9, '111101110', 49, '14 14 1 ', 'boo'], ['mian', 9, '111101111', 49, '15 14 1 ', 'bop'], ['guo', 7, '1111100', 195, '12 7 ', 'hm'], ['xin', 9, '111110100', 49, '4 15 1 ', 'bpe'], ['pin', 10, '1111101010', 25, '10 14 3 ', 'dok'], ['kai', 10, '1111101011', 25, '11 14 3 ', 'dol'], ['fu', 9, '111110110', 50, '6 15 1 ', 'bpg'], ['bian', 9, '111110111', 50, '7 15 1 ', 'bph'], ['ke', 9, '111111000', 50, '8 15 1 ', 'bpi'], ['wen', 9, '111111001', 50, '9 15 1 ', 'bpj'], ['qian', 10, '1111110100', 25, '4 15 3 ', 'dpe'], ['bo', 10, '1111110101', 25, '5 15 3 ', 'dpf'], ['dian', 11, '11111101100', 12, '12 14 7 ', 'hom'], ['shan', 12, '111111011010', 6, '10 13 15 ', 'pnk'], ['se', 12, '111111011011', 7, '11 13 15 ', 'pnl'], ['nong', 10, '1111110111', 25, '7 15 3 ', 'dph'], ['yang', 9, '111111100', 51, '12 15 1 ', 'bpm'], ['ti', 9, '111111101', 51, '13 15 1 ', 'bpn'], ['shen', 9, '111111110', 51, '14 15 1 ', 'bpo'], ['fen', 9, '111111111', 51, '15 15 1 ', 'bpp']]
    s='abcdefghijklmnop'
    Num = {}
    totWord=0
    totCode=0
    hx=0
    for i in s:
        Num[i]=0
    for i in huffList:
        totWord=totWord+i[3]
        totCode=totCode+i[3]*len(i[5])
        for j in s:
            Num[j]=Num[j]+i[3]*i[5].count(j)
    for i in huffList:
        p=i[3]/totWord
        hx=hx-p*math.log2(p)
    print("平均码长为",totCode/totWord)
    print("信息熵为", hx)
    return(Num)

def Rate_pic():
    Num=getCodenum()
    y_axis1=[]
    for i in Num.values():
        y_axis1.append(i)
    print("新编码方案字母使用平均值", np.mean(y_axis1))
    print("新编码方案字母使用标准差",np.std(y_axis1))
    x_axis=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P"]
    c = (
        Bar({"theme": ThemeType.MACARONS})
        .add_xaxis(x_axis)
        .add_yaxis(
            "字母出现次数",y_axis1
        )
        .set_global_opts(
        title_opts={"text": "新编码中字母出现次数直方图"}
        )
        .set_series_opts(
            markline_opts=opts.MarkLineOpts(
                data=[
                    opts.MarkLineItem(type_="average",name="平均值")
                ]
            )
        )
        .render("新编码中字母出现次数直方图.html")
    )
Rate_pic()

def newLayout():
    Num = getCodenum()
    a = sorted(Num.items(), key=lambda x: x[1], reverse=True)
    #print(a)
    x_axis = ["0", "1", "2", "3", "4", "5", "6", "7"]
    y_axis = ["0", "1"]
    value = [[0,1,2019],[1,1,1739],[2,1,1472],[3,1,1098],[4,1,1006],[5,1,1360],[6,1,1628],[7,1,1748],
        [0,0,2042],[1,0,2584],[2,0,2831],[3,0,5346],[4,0,5500],[5,0,3420],[6,0,2696],[7,0,2378]]

    c = (
        HeatMap(init_opts=opts.InitOpts(height="300px", width="1200px"))
            .add_xaxis(x_axis)
            .add_yaxis(
            "新布局使用热力图",
            y_axis,
            value,
            label_opts=opts.LabelOpts(is_show=True, position="inside", formatter=JsCode(
                "function (params) {name='GFHIJOKLNCEABMDP';return name[params.data[0]+(1-params.data[1])*8];}"
            ), font_size=20, font_weight='bold'),
        )
            .set_global_opts(
            title_opts=opts.TitleOpts(title="新布局使用热力图"),
            visualmap_opts=opts.VisualMapOpts(max_=5500, min_=1000, range_color=["#F0FFF0", "#006000"], is_show=True),
            tooltip_opts=opts.TooltipOpts(formatter=JsCode(
                "function (params) {name='GFHIJOKLNCEABMDP';return name[params.data[0]+(1-params.data[1])*8]+' : '+params.data[2];}"
            ), ),
            legend_opts=opts.LegendOpts(is_show=False),

        )
            .render("新布局使用热力图.html")
    )
newLayout()